# Path to your oh-my-zsh configuration.
export ZSH=$HOME/.oh-my-zsh

# Set to the name theme to load.
# Look in ~/.oh-my-zsh/themes/
export ZSH_THEME="daveverwer"

# Set to this to use case-sensitive completion
# export CASE_SENSITIVE="true"

# Comment this out to disable weekly auto-update checks
# export DISABLE_AUTO_UPDATE="true"

# Uncomment following line if you want to disable colors in ls
# export DISABLE_LS_COLORS="true"

## Autoload zsh modules when they are referenced
setopt   notify globdots correct pushdtohome cdablevars autolist
setopt   correctall autocd recexact longlistjobs
setopt   autoresume histignoredups pushdsilent 
setopt   autopushd pushdminus extendedglob rcquotes mailwarning
unsetopt bgnice autoparamslash

# Autoload zsh modules when they are referenced
zmodload -a zsh/stat stat
zmodload -a zsh/zpty zpty
zmodload -a zsh/zprof zprof
zmodload -ap zsh/mapfile mapfile

# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
# Example format: plugins=(rails git textmate ruby lighthouse)
plugins=(rails rails3 brew gem vi-mode git textmate ruby osx)

source $ZSH/oh-my-zsh.sh

# Customize to your needs...
setopt INC_APPEND_HISTORY
setopt APPEND_HISTORY
# unsetopt BG_NICE		# do NOT nice bg commands
setopt CORRECT			# command CORRECTION
setopt EXTENDED_HISTORY		# puts timestamps in the history
setopt MENUCOMPLETE
# setopt ALL_EXPORT

PATH="~/.rvm/bin:/usr/local/bin:/usr/local/sbin/:/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/share/npm/bin:$PATH"
TZ="America/New_York"
HISTFILE=$HOME/.zhistory
HISTSIZE=1000
SAVEHIST=1000
HOSTNAME="`hostname`"
NODE_PATH=/usr/local/lib/node
PAGER='less'
# EDITOR='mvim'
#     autoload colors zsh/terminfo
#     if [[ "$terminfo[colors]" -ge 8 ]]; then
#       colors
#     fi
#     for color in RED GREEN YELLOW BLUE MAGENTA CYAN WHITE; do
#       eval PR_$color='%{$terminfo[bold]$fg[${(L)color}]%}'
#       eval PR_LIGHT_$color='%{$fg[${(L)color}]%}'
#       (( count = $count + 1 ))
#     done
#     PR_NO_COLOR="%{$terminfo[sgr0]%}"
# # PS1="[$PR_BLUE%n$PR_WHITE@$PR_GREEN%U%m%u$PR_NO_COLOR:$PR_RED%2c$PR_NO_COLOR]%(!.#.$) "
# PROMPT="$PR_BLUE%n $PR_GREEN%~$(git_prompt_info) $(prompt_char) $PR_NO_COLOR> " # Custom Prompt settings
# RPS1="$PR_LIGHT_YELLOW(%D{%m-%d %H:%M})$PR_NO_COLOR"


# # --------------------------------------------------------------------
# # aliases
# # --------------------------------------------------------------------

bundle_commands=( spec rspec cucumber cap watchr rails rackup )

function run_bundler_cmd () {
  if [ -e ./Gemfile ]; then
    echo "bundle exec $@"
    bundle exec $@
  else
    echo "$@"
    $@
  fi
}

for cmd in $bundle_commands
do
  alias $cmd="run_bundler_cmd $cmd"
done

function ruby_or_irb() {
  if [[ "$1" == "" ]]; then
    irb
  else
    ruby "$@"
  fi
}
alias ruby=ruby_or_irb
alias r=rails
alias git=hub
alias :e=vim
alias :q=exit
if [[ "`uname`" == "Darwin" ]]; then
  alias vim=mvim  
fi

alias slrn="slrn -n"
alias man='LC_ALL=C LANG=C man'
alias f=finger
alias ll='ls -al'
alias ls='ls -G '
alias offlineimap-tty='offlineimap -u TTY.TTYUI'
alias hnb-partecs='hnb $HOME/partecs/partecs-hnb.xml'
alias rest2html-css='rst2html --embed-stylesheet --stylesheet-path=/usr/share/python-docutils/s5_html/themes/default/print.css'

[[ -s "$HOME/.rvm/scripts/rvm" ]] && . "$HOME/.rvm/scripts/rvm"  # This loads RVM into a shell session.
